(function(c){var b={};var a={_each:function(e){for(var d=0,f=this.length;d<f;d++){e(this[d])}},all:function(f,e){f=f||function(g){return g};var d=true;this.each(function(h,g){d=d&&!!f.call(e,h,g);if(!d){throw b}});return d},any:function(f,e){f=f||function(g){return g};var d=false;this.each(function(h,g){if(d=!!f.call(e,h,g)){throw b}});return d},clear:function(){this.length=0;return this},clone:function(){return c.protify([].concat(this))},collect:function(f,e){f=f||function(g){return g};var d=c.protify([]);this.each(function(h,g){d.push(f.call(e,h,g))});return d},detect:function(f,e){var d;this.each(function(h,g){if(f.call(e,h,g)){d=h;throw b}});return d},compact:function(){return c.protify(this.select(function(d){return d!==null}))},each:function(g,f){f=f||this;var d=0;try{this._each(function(e){g.call(f,e,d++)})}catch(h){if(h!=b){throw h}}return this},eachSlice:function(g,f,e){var d=-g,h=[],i=this.toArray();if(g<1){return i}while((d+=g)<i.length){h.push(i.slice(d,d+g))}return c.protify(c.protify(h).collect(f,e))},extended:function(){return true},findAll:function(f,e){var d=c.protify([]);this.each(function(h,g){if(f.call(e,h,g)){d.push(h)}});return d},flatten:function(){return this.inject([],function(e,d){c.protify(d);return c.protify(e.concat(c.isArray(d)?d.flatten():[d]))})},first:function(){return this[0]},grep:function(g,f,e){f=f||function(h){return h};var d=c.protify([]);if(typeof g==="string"){g=new RegExp(g)}this.each(function(i,h){if(g.test(i)){d.push(f.call(e,i,h))}});return d},include:function(d){if(c.isFunction(this.indexOf)){if(this.indexOf(d)!=-1){return true}}var e=false;this.each(function(f){if(f==d){e=true;throw b}});return e},indexOf:function(f,d){d||(d=0);var e=this.length;if(d<0){d=e+d}for(;d<e;d++){if(this[d]===f){return d}}return -1},inGroupsOf:function(e,d){d=d?null:d;return this.eachSlice(e,function(f){while(f.length<e){f.push(d)}return f})},inject:function(d,f,e){this.each(function(h,g){d=f.call(e,d,h,g)});return d},inspect:function(){return"["+this.map(c.inspect).join(", ")+"]"},intersect:function(d){c.protify(d);return this.uniq().findAll(function(e){return d.detect(function(f){return e===f})})},invoke:function(e){var d=c.makeArray(arguments).slice(1);return this.map(function(f){return f[e].apply(f,d)})},last:function(){return this[this.length-1]},lastIndexOf:function(e,d){d=isNaN(d)?this.length:(d<0?this.length+d:d)+1;var f=c.protify(this.slice(0,d).reverse()).indexOf(e);return(f<0)?f:d-f-1},max:function(f,e){f=f||function(g){return g};var d;this.each(function(h,g){h=f.call(e,h,g);if(d==null||h>=d){d=h}});return d},min:function(f,e){f=f||function(g){return g};var d;this.each(function(h,g){h=f.call(e,h,g);if(d==null||h<d){d=h}});return d},partition:function(g,e){g=g||function(h){return h};var f=[],d=[];this.each(function(i,h){(g.call(e,i,h)?f:d).push(i)});return[f,d]},pluck:function(e){var d=c.protify([]);this.each(function(f){d.push(f[e])});return d},purge:function(){return[].concat(this)},reduce:function(){return this.length>1?this:this[0]},reject:function(f,e){var d=c.protify([]);this.each(function(h,g){if(!f.call(e,h,g)){d.push(h)}});return d},size:function(){return this.length},sortBy:function(e,d){return this.map(function(g,f){return{value:g,criteria:e.call(d,g,f)}}).sort(function(i,h){var g=i.criteria,f=h.criteria;return g<f?-1:g>f?1:0}).pluck("value")},toArray:function(){return c.protify(this.map())},uniq:function(d){return c.protify(this.inject([],function(g,f,e){c.protify(g,true);if(0===e||(d?g.last()!=f:!g.include(f))){g.push(f)}return g}))},without:function(){var d=c.protify(c.makeArray(arguments));return c.protify(this.select(function(e){return !d.include(e)}))},zip:function(){var e=function(g){return g},d=c.protify(c.makeArray(arguments));if(c.isFunction(d.last())){e=d.pop()}var f=c.protify([this].concat(d)).map();return this.map(function(h,g){return e(f.pluck(g))})}};c.extend(a,{map:a.collect,find:a.detect,select:a.findAll,filter:a.findAll,member:a.include,entries:a.toArray,every:a.all,some:a.any});c.protify=function(e,d){if(d){c.extend(e,a);return e}e=c.extend(e.slice(),a);return e}})(jQuery);