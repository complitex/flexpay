var $break={};(function(b){var a={_each:function(d){for(var c=0,e=this.length;c<e;c++){d(this[c])}},all:function(e,d){e=e||function(f){return f};var c=true;this.each(function(g,f){c=c&&!!e.call(d,g,f);if(!c){throw $break}});return c},any:function(e,d){e=e||function(f){return f};var c=false;this.each(function(g,f){if(c=!!e.call(d,g,f)){throw $break}});return c},clear:function(){this.length=0;return this},clone:function(){return b.protify([].concat(this))},collect:function(e,d){e=e||function(f){return f};var c=b.protify([]);this.each(function(g,f){c.push(e.call(d,g,f))});return c},detect:function(e,d){var c;this.each(function(g,f){if(e.call(d,g,f)){c=g;throw $break}});return c},compact:function(){return b.protify(this.select(function(c){return c!==null}))},each:function(f,d){d=d||this;var c=0;try{this._each(function(e){f.call(d,e,c++)})}catch(g){if(g!=$break){throw g}}return this},eachSlice:function(f,e,d){var c=-f,g=[],h=this.toArray();if(f<1){return h}while((c+=f)<h.length){g.push(h.slice(c,c+f))}return b.protify(b.protify(g).collect(e,d))},extended:function(){return true},findAll:function(e,d){var c=b.protify([]);this.each(function(g,f){if(e.call(d,g,f)){c.push(g)}});return c},flatten:function(){return this.inject([],function(d,c){b.protify(c);return b.protify(d.concat(b.isArray(c)?c.flatten():[c]))})},first:function(){return this[0]},grep:function(f,e,d){e=e||function(g){return g};var c=b.protify([]);if(typeof f==="string"){f=new RegExp(f)}this.each(function(h,g){if(f.test(h)){c.push(e.call(d,h,g))}});return c},include:function(c){if(b.isFunction(this.indexOf)){if(this.indexOf(c)!=-1){return true}}var d=false;this.each(function(e){if(e==c){d=true;throw $break}});return d},indexOf:function(e,c){c||(c=0);var d=this.length;if(c<0){c=d+c}for(;c<d;c++){if(this[c]===e){return c}}return -1},inGroupsOf:function(d,c){c=c?null:c;return this.eachSlice(d,function(e){while(e.length<d){e.push(c)}return e})},inject:function(c,e,d){this.each(function(g,f){c=e.call(d,c,g,f)});return c},inspect:function(){return"["+this.map(b.inspect).join(", ")+"]"},intersect:function(c){b.protify(c);return this.uniq().findAll(function(d){return c.detect(function(e){return d===e})})},invoke:function(d){var c=b.makeArray(arguments).slice(1);return this.map(function(e){return e[d].apply(e,c)})},last:function(){return this[this.length-1]},lastIndexOf:function(d,c){c=isNaN(c)?this.length:(c<0?this.length+c:c)+1;var e=b.protify(this.slice(0,c).reverse()).indexOf(d);return(e<0)?e:c-e-1},max:function(e,d){e=e||function(f){return f};var c;this.each(function(g,f){g=e.call(d,g,f);if(c==null||g>=c){c=g}});return c},min:function(e,d){e=e||function(f){return f};var c;this.each(function(g,f){g=e.call(d,g,f);if(c==null||g<c){c=g}});return c},partition:function(f,d){f=f||function(g){return g};var e=[],c=[];this.each(function(h,g){(f.call(d,h,g)?e:c).push(h)});return[e,c]},pluck:function(d){var c=b.protify([]);this.each(function(e){c.push(e[d])});return c},purge:function(){return[].concat(this)},reduce:function(){return this.length>1?this:this[0]},reject:function(e,d){var c=b.protify([]);this.each(function(g,f){if(!e.call(d,g,f)){c.push(g)}});return c},size:function(){return this.length},sortBy:function(d,c){return this.map(function(f,e){return{value:f,criteria:d.call(c,f,e)}}).sort(function(h,g){var f=h.criteria,e=g.criteria;return f<e?-1:f>e?1:0}).pluck("value")},toArray:function(){return b.protify(this.map())},uniq:function(c){return b.protify(this.inject([],function(f,e,d){b.protify(f);if(0===d||(c?f.last()!=e:!f.include(e))){f.push(e)}return f}))},without:function(){var c=b.protify(b.makeArray(arguments));return b.protify(this.select(function(d){return !c.include(d)}))},zip:function(){var d=function(f){return f},c=b.protify(b.makeArray(arguments));if(b.isFunction(c.last())){d=c.pop()}var e=b.protify([this].concat(c)).map();return this.map(function(g,f){return d(e.pluck(f))})}};b.extend(a,{map:a.collect,find:a.detect,select:a.findAll,filter:a.findAll,member:a.include,entries:a.toArray,every:a.all,some:a.any});b.protify=function(d,c){if(c){b.extend(d,a);return d}d=b.extend(d.slice(),a);return d}})(jQuery);