<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
		   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

    <bean id="propertyConfigurerTc"
          class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
          p:location="/WEB-INF/tc/configs/module.properties"
          p:fileEncoding="UTF-8"
          p:ignoreUnresolvablePlaceholders="true"/>

    <!-- Define struts actions beans -->

    <!-- tariff calculation rules files section -->
    <bean id="tariffCalcRulesFilesListAction" class="org.flexpay.tc.actions.tariff.TariffCalcRulesFilesListAction"
          p:tariffCalculationRulesFileService-ref="tariffCalculationRulesFileService"
          scope="prototype"/>

    <bean id="tariffCalcRulesFileEditAction" class="org.flexpay.tc.actions.tariff.TariffCalcRulesFileEditAction"
          p:tariffCalculationRulesFileService-ref="tariffCalculationRulesFileService"
          p:fpFileService-ref="fpFileService"
          p:moduleName="${flexpay.module.name.tc}"
          scope="prototype"/>

    <bean id="tariffCalcRulesFileDeleteAction" class="org.flexpay.tc.actions.tariff.TariffCalcRulesFileDeleteAction"
          p:tariffCalculationRulesFileService-ref="tariffCalculationRulesFileService"
          scope="prototype"/>

    <bean id="tariffCalculateAction" class="org.flexpay.tc.actions.tariff.TariffCalculateAction"
          p:processManager-ref="processManager"
          scope="prototype"/>

    <!-- end of tariff calculation rules files section -->

    <!-- building attributes section -->
    <bean id="tcBuildingsListAction"
          class="org.flexpay.tc.actions.buildingattributes.BuildingsListAction"
          p:buildingService-ref="buildingService"
          p:parentService-ref="streetService"
          scope="prototype"/>

    <bean id="buildingAttributesEditAction"
          class="org.flexpay.tc.actions.buildingattributes.BuildingAttributesEditAction"
          p:addressService-ref="addressService"
          p:buildingService-ref="buildingService"
          p:btiBuildingService-ref="btiBuildingService"
          p:buildingAttributeTypeService-ref="buildingAttributeTypeService"
          p:buildingAttributeGroupService-ref="buildingAttributeGroupService"
          scope="prototype"/>
    <!-- end of building attributes section -->

    <!-- building tc results section -->
    <bean id="buildingTCResultsListAction"
          class="org.flexpay.tc.actions.tcresults.BuildingTCResultsListAction"
          p:tariffCalculationResultService-ref="tariffCalculationResultService"
          p:tariffService-ref="tariffService"
          p:addressService-ref="addressService"
          p:buildingService-ref="buildingService"
          scope="prototype"/>

    <bean id="buildingTCResultsEditAction"
          class="org.flexpay.tc.actions.tcresults.BuildingTCResultsEditAction"
          p:tariffService-ref="tariffService"
          p:tariffCalculationResultService-ref="tariffCalculationResultService"
          p:addressService-ref="addressService"
          p:buildingService-ref="buildingService"
          scope="prototype"/>

    <bean id="buildingTCResultsUploadAction"
          class="org.flexpay.tc.actions.tcresults.BuildingTCResultsUploadAction"
          p:processManager-ref="processManager"
          scope="prototype"/>
    <!-- end of building tc results section -->

    <bean id="tariffCalcResultExportAction" class="org.flexpay.tc.actions.tariff.TariffCalcResultExportAction"
          p:tariffCalculationResultService-ref="tariffCalculationResultService"
          p:processManager-ref="processManager"
          scope="prototype"/>

    <!-- processing -->
    <bean id="processesListAction" scope="prototype"
		  class="org.flexpay.common.actions.processing.ProcessesListAction"
		  p:processManager-ref="processManager" />

	<bean id="processViewAction" scope="prototype"
		  class="org.flexpay.common.actions.processing.ProcessViewAction"
		  p:processManager-ref="processManager" />

	<bean id="processDefinitionDeployAction" scope="prototype"
		  class="org.flexpay.common.actions.processing.ProcessDefinitionDeployAction"
		  p:processManager-ref="processManager" />

</beans>
