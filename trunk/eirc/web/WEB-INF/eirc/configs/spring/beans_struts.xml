<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
	   xsi:schemaLocation="
		   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<bean id="propertyConfigurerEirc"
		  class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
		  p:location="/WEB-INF/eirc/configs/module.properties"
		  p:fileEncoding="UTF-8"
		  p:ignoreUnresolvablePlaceholders="true" />

	<bean id="spFileCreateAction"
          class="org.flexpay.eirc.actions.SpFileCreateAction"
		  scope="prototype" />

	<bean id="spFileUploadAjaxAction"
          class="org.flexpay.eirc.actions.UploadFileAction"
		  p:fpFileService-ref="fpFileService"
		  p:moduleName="${flexpay.module.name.eirc}"
		  scope="prototype" />

	<bean id="spFilesListAction"
          class="org.flexpay.eirc.actions.SpFilesListAction"
		  p:fpFileService-ref="fpFileService"
		  p:registryFileService-ref="registryFileService"
		  p:moduleName="${flexpay.module.name.eirc}"
		  scope="prototype" />

	<bean id="spFileAction"
		  class="org.flexpay.eirc.actions.SpFileAction"
          p:fpFileService-ref="fpFileService"
		  p:processManager-ref="processManager"
          scope="prototype" />

	<bean id="quittanceGenerateAction"
		  class="org.flexpay.eirc.actions.quittance.QuittanceGenerateAction"
		  p:serviceOrganizationService-ref="serviceOrganizationService"
		  p:processManager-ref="processManager"
          scope="prototype" />

	<bean id="printTicketsAction"
		  class="org.flexpay.eirc.actions.quittance.QuittanceGeneratePDFAction"
		  scope="prototype"
		  p:processManager-ref="processManager"
		  p:serviceOrganizationService-ref="serviceOrganizationService" />

	<bean id="quittanceSearchAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittanceSearchAction"
		  p:quittanceService-ref="quittanceService" />

	<bean id="quittanceSearchByAccountAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittanceSearchByAccountAction"
		  p:quittanceService-ref="quittanceService"
		  p:accountService-ref="eircAccountService" />

	<bean id="quittanceSearchByAddressAction"
		  scope="prototype"
		  parent="eircAccountsListAction"
		  autowire-candidate="false"
		  class="org.flexpay.eirc.actions.quittance.QuittanceSearchByAddressAction"
		  p:quittanceService-ref="quittanceService" />

	<!-- Quittance packets -->
	<bean id="quittancePacketsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittancePacketListAction"
		  p:quittancePacketService-ref="quittancePacketService" />

	<bean id="quittancePacketEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittancePacketEditAction"
		  p:paymentPointHelper-ref="paymentPointHelper"
		  p:paymentPointService-ref="paymentPointService"
		  p:quittancePacketService-ref="quittancePacketService" />

	<bean id="quittancePacketViewAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittancePacketViewAction"
		  p:addressService-ref="addressService"
		  p:eircAccountService-ref="eircAccountService"
		  p:quittancePacketService-ref="quittancePacketService" />

	<bean id="quittancePaySearchAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittancePaySearchAction"
		  p:quittanceService-ref="quittanceService" />

	<bean id="quittancePayAction" scope="prototype"
		  class="org.flexpay.eirc.actions.quittance.QuittancePayAction"
		  p:quittanceService-ref="quittanceService"
		  p:quittancePaymentService-ref="quittancePaymentService"
		  p:paymentStatusService-ref="quittancePaymentStatusService"
		  p:numberService-ref="quittanceNumberService" />

	<!-- Served buildings actions -->
	<bean id="serviceOrganizationListServedBuildingsAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.ServiceOrganizationListServedBuildingsAction"
		  p:serviceOrganizationService-ref="eircServiceOrganizationService"
		  p:addressService-ref="addressService" />

    <bean id="servedBuildingsListAction"
		  scope="prototype"
          class="org.flexpay.common.actions.StaticPageAction"
          p:crumbNameKey="eirc.crumbs.served_buildings_list" />

	<bean id="serviceOrganizationAddServedBuildingAction"
		  scope="prototype"
		  class="org.flexpay.eirc.actions.organization.ServiceOrganizationAddServedBuildingAction"
		  p:serviceOrganizationService-ref="eircServiceOrganizationService"
          p:buildingService-ref="buildingService" />

    <bean id="serviceOrganizationAddServedBuildingPageAction"
		  scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationAddServedBuildingPageAction"
          p:serviceOrganizationService-ref="eircServiceOrganizationService" />

	<bean id="serviceOrganizationRemoveServedBuildingsAction"
		  scope="prototype"
		  class="org.flexpay.eirc.actions.organization.ServiceOrganizationRemoveServedBuildingsAction"
		  p:serviceOrganizationService-ref="eircServiceOrganizationService" />

	<!-- Corrections -->
	<bean id="selectCorrectionTypeAction"
		  scope="prototype"
		  class="org.flexpay.eirc.actions.registry.corrections.SelectCorrectionTypeAction"
		  p:registryRecordService-ref="registryRecordService"
		  p:typeRegistry-ref="classToTypeRegistry" />

	<bean id="correctAddressAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectAddressAction"
		  p:consumersDataSource-ref="consumersDataSource"
		  p:correctionsService-ref="correctionsService"
		  p:recordService-ref="registryRecordService"
		  p:serviceTypeService-ref="serviceTypeService"
		  p:typeRegistry-ref="classToTypeRegistry"
		  p:organizationService-ref="organizationService"
          scope="prototype" />

	<bean id="correctBuildingAddressAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectBuildingAction"
		  p:consumersDataSource-ref="consumersDataSource"
		  p:correctionsService-ref="correctionsService"
		  p:recordService-ref="registryRecordService"
		  p:serviceTypeService-ref="serviceTypeService"
		  p:organizationService-ref="organizationService"
          scope="prototype" />

	<bean id="correctStreetAddressAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectStreetAction"
		  p:consumersDataSource-ref="consumersDataSource"
		  p:correctionsService-ref="correctionsService"
		  p:recordService-ref="registryRecordService"
		  p:serviceTypeService-ref="serviceTypeService"
		  p:organizationService-ref="organizationService"
          scope="prototype" />

	<bean id="correctPersonAction" scope="prototype" parent="personsListAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectPersonAction"
		  p:consumersDataSource-ref="consumersDataSource"
		  p:correctionsService-ref="correctionsService"
		  p:recordService-ref="registryRecordService"
		  p:organizationService-ref="organizationService" />

    <bean id="registryViewAction" scope="prototype"
          class="org.flexpay.eirc.actions.registry.RegistryViewAction"
          p:crumbNameKey="payments.crumbs.registries_view"
          p:registryService-ref="registryService"
          p:registryRecordService-ref="registryRecordService"
          p:classToTypeRegistry-ref="classToTypeRegistry"
          p:serviceTypeService-ref="serviceTypeService" />

	<bean id="processesListAction" scope="prototype"
		  class="org.flexpay.common.actions.processing.ProcessesListAction"
		  p:processManager-ref="processManager" />

	<bean id="processViewAction" scope="prototype"
		  class="org.flexpay.common.actions.processing.ProcessViewAction"
		  p:processManager-ref="processManager" />

	<bean id="processDefinitionDeployAction"
		  class="org.flexpay.common.actions.processing.ProcessDefinitionDeployAction"
          p:fpFileService-ref="fpFileService"
		  p:processManager-ref="processManager"
          scope="prototype" />

	<bean id="eircAccountsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountsListAction"
		  p:eircAccountService-ref="eircAccountService"
		  p:personService-ref="personService"
		  p:parentService-ref="apartmentService"
		  p:addressService-ref="addressService" />

    <bean id="eircAccountsListAjaxAction"
          class="org.flexpay.eirc.actions.eirc_account.EircAccountsListAjaxAction"
          p:eircAccountService-ref="eircAccountService"
          p:personService-ref="personService"
          p:addressService-ref="addressService"
          scope="prototype" />

    <bean id="eircAccountsListPageAction"
          class="org.flexpay.common.actions.StaticPageAction"
          p:crumbNameKey="eirc.crumbs.eirc_accounts_list"
          scope="prototype" />

	<bean id="eircAccountViewAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountViewAction"
		  p:eircAccountService-ref="eircAccountService"
		  p:spService-ref="spService" />

    <bean id="eircAccountCreateForm1Action"
          class="org.flexpay.common.actions.StaticPageAction"
          p:crumbNameKey="eirc.crumbs.eirc_account_creat_form1"
          scope="prototype" />

	<bean id="eircAccountCreateForm2Action" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountCreateForm2Action"
		  p:personService-ref="personService" />

	<bean id="eircAccountCreateAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountCreateAction"
		  p:eircAccountService-ref="eircAccountService" />

</beans>
