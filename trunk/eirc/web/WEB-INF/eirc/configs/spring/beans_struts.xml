<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
	   xsi:schemaLocation="
		   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<bean id="spFileCreateAction" class="org.flexpay.eirc.actions.SpFileCreateAction"
		  p:flexPayFileService-ref="flexPayFileService"
          p:moduleName="${flexpay.module.name}"
		  scope="prototype" />

	<bean id="spFilesListAction" class="org.flexpay.eirc.actions.SpFilesListAction"
          p:flexPayFileService-ref="flexPayFileService"
          p:registryFileService-ref="registryFileService"
          p:moduleName="${flexpay.module.name}"
		  scope="prototype" />

	<bean id="spFileAction" class="org.flexpay.eirc.actions.SpFileAction"
		  scope="prototype">
		<property name="processManager" ref="processManager" />
	</bean>

	<bean id="buildingAjaxAction" class="org.flexpay.eirc.actions.BuildingAjaxAction"
		  scope="prototype">
		<property name="buildingService" ref="buildingService" />
	</bean>

	<bean id="quittanceGenerateAction"
		  class="org.flexpay.eirc.actions.quittance.QuittanceGenerateAction"
		  scope="prototype"
		  p:serviceOrganizationService-ref="serviceOrganizationService"
		  p:processManager-ref="processManager" />

	<bean id="printTicketsAction"
		  class="org.flexpay.eirc.actions.quittance.QuittanceGeneratePDFAction"
		  scope="prototype"
		  p:processManager-ref="processManager"
		  p:serviceOrganizationService-ref="serviceOrganizationService" />

	<bean id="quittanceSearchAction"
		  class="org.flexpay.eirc.actions.quittance.QuittanceSearchAction"
		  scope="prototype"
		  p:quittanceService-ref="quittanceService" />

	<bean id="quittancePayFormAction"
		  class="org.flexpay.eirc.actions.quittance.QuittancePayFormAction"
		  scope="prototype" />

	<bean id="quittancePayAction"
		  class="org.flexpay.eirc.actions.quittance.QuittancePayAction"
		  scope="prototype" />

	<bean id="registriesListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.registry.RegistriesListAction">
		<property name="registryService" ref="registryService" />
		<property name="organizationService" ref="organizationService" />
		<property name="registryTypeService" ref="registryTypeService" />
	</bean>

	<bean id="registriesProcessAction" scope="prototype"
		  class="org.flexpay.eirc.actions.registry.RegistriesProcessAction"
		  p:processManager-ref="processManager" />

	<bean id="registryRecordsProcessAction" scope="prototype"
		  class="org.flexpay.eirc.actions.registry.RegistryRecordsProcessAction"
		  p:processManager-ref="processManager" />

	<bean id="registryViewAction" scope="prototype"
		  class="org.flexpay.eirc.actions.registry.RegistryViewAction">
		<property name="registryService" ref="registryService" />
		<property name="registryRecordService" ref="registryRecordService" />
		<property name="classToTypeRegistry" ref="typeRegistryEirc" />
		<property name="serviceTypeService" ref="serviceTypeService" />
	</bean>

	<bean id="organizationsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.OrganizationsListAction"
		  p:organizationService-ref="organizationService" />

	<bean id="organizationDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.OrganizationDeleteAction"
		  p:organizationService-ref="organizationService" />

	<bean id="organizationEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.OrganizationEditAction"
		  p:organizationService-ref="organizationService" />

	<!-- Bank actions -->
	<bean id="banksListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.BanksListAction"
		  p:bankService-ref="bankService" />

	<bean id="bankDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.BankDeleteAction"
		  p:bankService-ref="bankService" />

	<bean id="bankEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.BankEditAction"
		  p:organizationService-ref="organizationService"
		  p:bankService-ref="bankService" />

	<!-- Payments Collectors actions -->
	<bean id="paymentsCollectorsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.PaymentsCollectorsListAction"
		  p:organizationService-ref="organizationService"
		  p:collectorService-ref="paymentsCollectorService" />

	<bean id="paymentsCollectorsDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.PaymentsCollectorsDeleteAction"
		  p:collectorService-ref="paymentsCollectorService" />

	<bean id="paymentsCollectorEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.PaymentsCollectorEditAction"
		  p:organizationService-ref="organizationService"
		  p:instanceService-ref="paymentsCollectorService" />

    <!-- Service organization actions -->
    <bean id="serviceOrganizationsListAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationsListAction"
          p:serviceOrganizationService-ref="serviceOrganizationService" />

    <bean id="serviceOrganizationDeleteAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationDeleteAction"
          p:serviceOrganizationService-ref="serviceOrganizationService" />

    <bean id="serviceOrganizationEditAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationEditAction"
          p:organizationService-ref="organizationService"
          p:serviceOrganizationService-ref="serviceOrganizationService" />

    <bean id="serviceOrganizationListServedBuildingsAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationListServedBuildingsAction"
          p:serviceOrganizationService-ref="serviceOrganizationService"
          p:addressService-ref="addressService" />

    <bean id="serviceOrganizationAddServedBuildingAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationAddServedBuildingAction"
          p:parentService-ref="streetService"
          p:buildingService-ref="buildingService"
          p:serviceOrganizationService-ref="serviceOrganizationService" />

    <bean id="serviceOrganizationRemoveServedBuildingsAction" scope="prototype"
          class="org.flexpay.eirc.actions.organization.ServiceOrganizationRemoveServedBuildingsAction"
          p:serviceOrganizationService-ref="serviceOrganizationService" />

	<!-- Subdivision actions -->
	<bean id="subdivisionsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.SubdivisionsListAction"
		  p:organizationService-ref="organizationService"
		  p:subdivisionService-ref="subdivisionService" />

	<bean id="subdivisionDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.SubdivisionDeleteAction"
		  p:subdivisionService-ref="subdivisionService" />

	<bean id="subdivisionEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.organization.SubdivisionEditAction"
		  p:organizationService-ref="organizationService"
		  p:subdivisionService-ref="subdivisionService" />

	<!-- Service provider actions -->
	<bean id="serviceProvidersListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.serviceprovider.ServiceProvidersListAction"
		  p:spService-ref="spService" />

	<bean id="serviceProviderDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.serviceprovider.ServiceProviderDeleteAction"
		  p:spService-ref="spService" />

	<bean id="serviceProviderEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.serviceprovider.ServiceProviderEditAction"
		  p:organizationService-ref="organizationService"
		  p:spService-ref="spService" />

	<!-- Services -->
	<bean id="serviceTypesListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.service.ServiceTypesListAction"
		  p:serviceTypeService-ref="serviceTypeService" />

	<bean id="serviceTypeDeleteAction" scope="prototype"
		  class="org.flexpay.eirc.actions.service.ServiceTypeDeleteAction"
		  p:serviceTypeService-ref="serviceTypeService" />

	<bean id="serviceTypeEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.service.ServiceTypeEditAction"
		  p:serviceTypeService-ref="serviceTypeService" />

	<bean id="servicesListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.service.ServicesListAction"
		  p:spService-ref="spService" />

	<bean id="serviceEditAction" scope="prototype"
		  class="org.flexpay.eirc.actions.service.ServiceEditAction"
		  p:serviceTypeService-ref="serviceTypeService"
		  p:measureUnitService-ref="measureUnitService"
		  p:spService-ref="spService" />

	<!-- Corrections -->
	<bean id="selectCorrectionTypeAction" scope="prototype"
		  class="org.flexpay.eirc.actions.registry.corrections.SelectCorrectionTypeAction">
		<property name="registryRecordService" ref="registryRecordService" />
		<property name="typeRegistry" ref="typeRegistryEirc" />
	</bean>

	<bean id="correctRecordAddressAction" scope="prototype" parent="apartmentsListAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectAddressAction">
		<property name="consumersDataSource" ref="consumersDataSource" />
		<property name="correctionsService" ref="correctionsServiceEirc" />
		<property name="recordService" ref="registryRecordService" />
		<property name="serviceTypeService" ref="serviceTypeService" />
		<property name="typeRegistry" ref="typeRegistryEirc" />
	</bean>

	<bean id="correctBuildingAddressAction" scope="prototype" parent="buildingsListAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectBuildingAction">
		<property name="consumersDataSource" ref="consumersDataSource" />
		<property name="correctionsService" ref="correctionsServiceEirc" />
		<property name="recordService" ref="registryRecordService" />
		<property name="serviceTypeService" ref="serviceTypeService" />
	</bean>

	<bean id="correctStreetAddressAction" scope="prototype" parent="streetsListAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectStreetAction">
		<property name="consumersDataSource" ref="consumersDataSource" />
		<property name="correctionsService" ref="correctionsServiceEirc" />
		<property name="recordService" ref="registryRecordService" />
		<property name="serviceTypeService" ref="serviceTypeService" />
	</bean>

	<bean id="correctPersonAction" scope="prototype" parent="personsListAction"
		  class="org.flexpay.eirc.actions.registry.corrections.CorrectPersonAction">
		<property name="consumersDataSource" ref="consumersDataSource" />
		<property name="correctionsService" ref="correctionsServiceEirc" />
		<property name="recordService" ref="registryRecordService" />
	</bean>

	<bean id="processesListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.processing.ProcessesListAction"
		  p:processManager-ref="processManager" />

	<bean id="processViewAction" scope="prototype"
		  class="org.flexpay.eirc.actions.processing.ProcessViewAction"
		  p:processManager-ref="processManager" />

	<bean id="processDefinitionDeployAction" scope="prototype"
		  class="org.flexpay.eirc.actions.processing.ProcessDefinitionDeployAction"
		  p:processManager-ref="processManager" />

	<bean id="eircAccountsListAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountsListAction"
		  p:eircAccountService-ref="eircAccountService"
		  p:personService-ref="personService"
		  p:parentService-ref="apartmentService"
		  p:addressService-ref="addressService" />

	<bean id="eircAccountViewAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountViewAction"
		  p:eircAccountService-ref="eircAccountService"
		  p:spService-ref="spService" />

	<bean id="eircAccountCreateForm1Action" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountCreateForm1Action">
		<property name="parentService" ref="buildingService" />
		<property name="apartmentService" ref="apartmentService" />
	</bean>

	<bean id="eircAccountCreateForm2Action" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountCreateForm2Action">
		<property name="personService" ref="personService" />
	</bean>

	<bean id="eircAccountCreateAction" scope="prototype"
		  class="org.flexpay.eirc.actions.eirc_account.EircAccountCreateAction">
		<property name="eircAccountService" ref="eircAccountService" />
	</bean>

</beans>
