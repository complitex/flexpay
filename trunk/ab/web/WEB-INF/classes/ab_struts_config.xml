<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
		"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
		"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<constant name="struts.custom.i18n.resources"
			  value="org/flexpay/common/i18n/common-messages,org/flexpay/ab/i18n/errors,org/flexpay/ab/i18n/messages" />
			  
    <package name="ab" namespace="/ab" extends="common">

		<action name="main">
			<interceptor-ref name="flexpayRoles">
				<param name="allowedRoles">developerRole</param>
			</interceptor-ref>
			<result type="tiles">ab.main</result>
		</action>

	</package>			  

	<package name="lang" namespace="/" extends="tiles-default">

		<interceptors>
			<interceptor name="i18n_flexpay"
						 class="org.flexpay.common.actions.interceptor.FlexpayI18nInterceptor" />
		</interceptors>

		<action name="set_language" class="org.flexpay.common.actions.LanguageSwitch">
			<result type="tiles">ab.main</result>
			<interceptor-ref name="i18n_flexpay" />
		</action>

	</package>

	<package name="countries" namespace="/dicts" extends="tiles-default">

		<action name="list_countries" class="listCountriesAction">
			<result type="tiles">ab.country.list</result>
		</action>

		<action name="create_country" class="createCountryAction">
			<result type="redirect">list_countries.action</result>
			<result type="tiles" name="input">ab.country.create</result>
		</action>

	</package>

	<package name="regions" namespace="/dicts" extends="tiles-default">

		<action name="list_regions" class="listRegionsAction">
			<result type="tiles">ab.regions.list</result>
		</action>

		<action name="create_region" class="createRegionAction">
			<result type="redirect">list_regions.action</result>
			<result type="tiles" name="input">ab.region.create</result>
		</action>

		<action name="edit_region" class="editRegionAction">
			<result type="redirect">list_regions.action</result>
			<result type="tiles" name="input">ab.region.edit</result>
		</action>

		<action name="delete_regions" class="deleteRegionsAction">
			<result type="redirect">list_regions.action</result>
		</action>

	</package>

	<package name="town_types" namespace="/dicts" extends="tiles-default">

		<action name="list_town_types" class="listTownTypesAction">
			<result type="tiles">ab.town_types.list</result>
		</action>

		<action name="create_town_type" class="createTownTypeAction">
			<result type="redirect">list_town_types.action</result>
			<result type="tiles" name="input">ab.town_type.create</result>
		</action>

		<action name="edit_town_type" class="editTownTypeAction">
			<result type="redirect">list_town_types.action</result>
			<result type="tiles" name="input">ab.town_type.edit</result>
		</action>

		<action name="delete_town_types" class="deleteTownTypesAction">
			<result type="redirect">list_town_types.action</result>
		</action>

	</package>
	
	<package name="street_types" namespace="/dicts" extends="common">
        <action name="street_type_create" class="streetTypeCreteAction">
			<result name="form" type="tiles">ab.street_type.create</result>
			<result name="afterSubmit" type="redirect">street_type_list.action</result>
		</action>
		<action name="street_type_view" class="streetTypeViewAction">
			<result name="success" type="tiles">ab.street_type.view</result>
		</action>
		<action name="street_type_list" class="streetTypeListAction">
			<result name="list" type="tiles">ab.street_type.list</result>
		</action>
	</package>

</struts>
