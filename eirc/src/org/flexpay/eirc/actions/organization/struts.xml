<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
		"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
		"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<package name="organizations" namespace="/eirc" extends="common">

		<!-- Organizations -->
		<action name="organizationsList" class="organizationsListAction">
			<result type="tiles">eirc.organizations.list</result>
		</action>

		<action name="organizationDelete" class="organizationDeleteAction">
			<result name="redirectSuccess" type="redirect-action">organizationsList</result>
		</action>

		<action name="organizationEdit" class="organizationEditAction">
			<result name="input" type="tiles">eirc.organization.edit</result>
			<result name="redirectSuccess" type="redirect-action">organizationsList</result>
		</action>

		<!-- Subdivisions -->
		<action name="subdivisionsList" class="subdivisionsListAction">
			<result type="tiles">eirc.organization.subdivisions.list</result>
			<result name="redirectSuccess" type="redirect-action">organizationsList</result>
		</action>

		<action name="subdivisionDelete" class="subdivisionDeleteAction">
			<result name="redirectSuccess" type="redirect-action">
				<param name="actionName">subdivisionsList</param>
				<param name="parse">true</param>
				<param name="organization.id">${organization.id}</param>
			</result>
			<result name="redirectError" type="redirect-action">organizationsList</result>
		</action>

		<action name="subdivisionEdit" class="subdivisionEditAction">
			<result name="input" type="tiles">eirc.organization.subdivision.edit</result>
			<result name="redirectSuccess" type="redirect-action">
				<param name="actionName">subdivisionsList</param>
				<param name="parse">true</param>
				<param name="organization.id">${headOrganization.id}</param>
			</result>
		</action>

		<!-- Banks -->
        <action name="bankView" class="bankViewAction">
            <result type="tiles">eirc.organization.bank.view</result>
            <result name="redirectError" type="redirect-action">banksList</result>
        </action>

        <action name="bankEdit" class="bankEditAction">
            <result name="input" type="tiles">eirc.organization.bank.edit</result>
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">bankView</param>
                <param name="parse">true</param>
                <param name="bank.id">${bank.id}</param>
            </result>
        </action>

		<action name="banksList" class="banksListPageAction">
			<result type="tiles">eirc.organization.banks.list</result>
		</action>

        <action name="banksListAjax" class="banksListAction">
            <result>/WEB-INF/jsp/orgs/banks/banks_list.jsp</result>
        </action>

		<action name="bankDelete" class="bankDeleteAction">
            <result>/WEB-INF/jsp/common/responses/simple_response.jsp</result>
		</action>

		<!-- Payments Collectors -->
        <action name="paymentsCollectorView" class="paymentsCollectorViewAction">
            <result type="tiles">eirc.organization.payments_collector.view</result>
            <result name="redirectError" type="redirect-action">paymentsCollectorsList</result>
        </action>

        <action name="paymentsCollectorEdit" class="paymentsCollectorEditAction">
            <result name="input" type="tiles">eirc.organization.payments_collector.edit</result>
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">paymentsCollectorView</param>
                <param name="parse">true</param>
                <param name="collector.id">${collector.id}</param>
            </result>
        </action>

        <action name="paymentsCollectorDetails" class="paymentsCollectorDetailsAction">
            <result type="tiles">eirc.organization.payments_collectors.details</result>
        </action>

		<action name="paymentsCollectorsList" class="paymentsCollectorsListPageAction">
			<result type="tiles">eirc.organization.payments_collectors.list</result>
		</action>

        <action name="paymentsCollectorsListAjax" class="paymentsCollectorsListAction">
            <result>/WEB-INF/jsp/orgs/payments_collectors/payments_collectors_list.jsp</result>
        </action>

		<action name="paymentsCollectorDelete" class="paymentsCollectorDeleteAction">
            <result>/WEB-INF/jsp/common/responses/simple_response.jsp</result>
		</action>

		<!-- Payment points -->
        <action name="paymentPointView" class="paymentPointViewAction">
            <result type="tiles">payments.organization.payment_point.view</result>
            <result name="redirectError" type="redirect-action">paymentPointsList</result>
        </action>

		<action name="paymentPointEdit" class="paymentPointEditAction">
			<result name="input" type="tiles">payments.organization.payment_point.edit</result>
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">paymentPointView</param>
                <param name="parse">true</param>
                <param name="point.id">${point.id}</param>
            </result>
		</action>

		<action name="paymentPointDetails" class="paymentPointDetailsAction">
			<result type="tiles">payments.organization.payment_point.details</result>
		</action>

        <action name="paymentPointsList" class="paymentPointsListPageAction">
            <result type="tiles">payments.organization.payment_points.list</result>
        </action>

        <action name="paymentPointsListAjax" class="paymentPointsListAction">
            <result>/WEB-INF/jsp/orgs/payment_points/payment_points_list.jsp</result>
        </action>

		<action name="paymentPointDelete" class="paymentPointDeleteAction">
            <result>/WEB-INF/jsp/common/responses/simple_response.jsp</result>
		</action>

        <!-- Service organizations -->
        <action name="serviceOrganizationsList" class="serviceOrganizationsListAction">
            <result type="tiles">eirc.organization.service_organizations.list</result>
        </action>

        <action name="serviceOrganizationDelete" class="serviceOrganizationDeleteAction">
            <result name="redirectSuccess" type="redirect-action">serviceOrganizationsList</result>
        </action>

        <action name="serviceOrganizationEdit" class="serviceOrganizationEditAction">
            <result name="input" type="tiles">eirc.organization.service_organization.edit</result>
            <result name="redirectSuccess" type="redirect-action">serviceOrganizationsList</result>
        </action>

        <action name="serviceOrganizationListServedBuildings" class="serviceOrganizationListServedBuildingsAction">
            <result type="tiles">eirc.organization.service_organization.list_served_buildings</result>
        </action>

        <action name="serviceOrganizationListServedBuildingsAjax" class="buildingsListAjaxAction">
            <result>/WEB-INF/jsp/eirc/organizations/buildings_list.jsp</result>
        </action>

        <action name="serviceOrganizationAddServedBuildingPage" class="serviceOrganizationAddServedBuildingPageAction">
            <result name="input" type="tiles">eirc.organization.service_organization.add_served_building</result>
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">serviceOrganizationListServedBuildings</param>
                <param name="parse">true</param>
                <param name="serviceOrganization.id">${serviceOrganization.id}</param>
            </result>
        </action>

        <action name="serviceOrganizationAddServedBuilding" class="serviceOrganizationAddServedBuildingAction">
            <result name="input" type="tiles">eirc.organization.service_organization.add_served_building</result>
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">serviceOrganizationListServedBuildings</param>
                <param name="parse">true</param>
                <param name="serviceOrganization.id">${serviceOrganization.id}</param>
            </result>
        </action>

        <action name="serviceOrganizationRemoveServedBuildings" class="serviceOrganizationRemoveServedBuildingsAction">
            <result name="redirectSuccess" type="redirect-action">
                <param name="actionName">serviceOrganizationListServedBuildings</param>
                <param name="parse">true</param>
                <param name="serviceOrganization.id">${serviceOrganization.id}</param>
            </result>
        </action>

	</package>

</struts>
